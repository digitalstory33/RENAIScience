<!DOCTYPE html>
<html lang="en">
<head>
  <title>First question</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datasource@0.1.0"></script>
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/d3-selection.v1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script>
<link rel="stylesheet" href="first.css">

  <style>

    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 800px}

    /* Set gray background color and 100% height */
    .sidenav {
      padding-top: 20px;
      background-color: #8e7f7f;
      height: 1000px;
    }

    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }
      .row.content {height:auto;}
    }
  </style>
	<link rel="stylesheet" href="ss.css">
<script>

function makeGraph(data) {
  CanvasJS.addColorSet("greenShades", [
    //colorSet Array
    "#865858",
    "#8e7f7f",
    "#bbbbbb",
  ])
  var chart = new CanvasJS.Chart("chartContainer", {
    backgroundColor: "#f0ece3",
    animationEnabled: true,
    theme: "light2",

    colorSet: "greenShades",

    title:{
      text: "Average Number of Art-historian",
        fontFamily: "sans-serif",
          fontSize: 20,
          margin: 45,
          padding: 15,
         borderThickness: 5,
         cornerRadius: 5,


    },
    axisY: {
      title: "avg",
      titleFontSize: 15,
      titleFontFamily: "sans-serif",
         titleFontColor: "black",
         margin:10,
    },
    axisX: {
      title: "year",
      titleFontSize: 15,
      titleFontFamily: "sans-serif",
         titleFontColor: "black",
         margin:25,
    },
    data: [{
      type: "column",
      showInLegend: true,
      legendMarkerColor: "grey",
      legendText: "",
      dataPoints: data
    }]
  });
  chart.render();
}

function makeTooltip(element) {
  // Makes tooltip code from list of historians inside element
  let tooltip = "";
  element["historians"].forEach((historian) => {
    tooltip = tooltip.concat(historian, "<br>")
  })
  return tooltip
}

window.onload = function () {
  // JQuery gets the JSON
  $.getJSON("file_for_columnchart.json", function(data){
    let datapoints = new Array();
    data.forEach((element) => {
      // For each entry in the JSON file, makes an object with label, y and toolTipContent
      // and add the object to datapoints Array
      datapoints.push({
        "label": element["decade"],
        "y": element["avg historians"],
        "toolTipContent": makeTooltip(element)
      })
    })
    // When data is loaded, calls function makeGraph
    makeGraph(datapoints)
  }).fail(function(){
    // If something goes wrong in data loading throw an error in console
    console.log("An error has occurred.");
  });
}
</script>
</head>

<body>
	<ul>
  <li><a class="active" href="https://digitalstory33.github.io/Renaissance/">Home</a></li>
  <li><a href="https://digitalstory33.github.io/Renaissance/storytelling.html">Storytelling</a></li>
  <li><a href="https://digitalstory33.github.io/Renaissance/first-question.html"> First Question </a></li>
  <li><a href="https://digitalstory33.github.io/Renaissance/second-question.html">Second Question </a></li>
    <li><a href="https://digitalstory33.github.io/Renaissance/third-question.html">Third Question </a></li>
    <li><a href="https://digitalstory33.github.io/Renaissance/fourth-question.html">Fourth Question </a></li>
      <li><a href="https://digitalstory33.github.io/Renaissance/team.html">Team </a></li>
	</ul>
		
<div class="container-fluid text-center">
  <div class="row content">
    <div class="col-sm-2 sidenav">
			<div calss="container">
			  <style type="text/css">
			.tg  {border-collapse:collapse;border-spacing:0;}
			.tg td{border-color:#8e7f7f;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
			  overflow:hidden;padding:10px 5px;word-break:normal;}
			.tg th{border-color:#8e7f7f;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
			  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
			.tg .tg-oe15{background-color:#8e7f7f;border-color:#8e7f7f;text-align:left;vertical-align:top}
			.tg .tg-zv4m{border-color:#8e7f7f;text-align:left;vertical-align:top}
			</style>
			<table class="tg"  table align="center">
			<thead>
			  <tr>
			    <th class="tg-oe15"><img src="./image/Middeldorf.jpg" alt="Image" width="80" height="80" alt="Middeldorf"></th>
			  </tr>
			</thead>
			<tbody>
			  <th class="tg-oe15"><img src="./image/krautheimer.jpg" alt="Image" width="80" height="80" alt="Krautheimer"></th>

			  <tr>
			    <td class="tg-oe15"><img src="./image/baratto.jpg" alt="Image" width="80" height="80" alt="Baratto"></td>
			  </tr>
			  <tr>
			    <td class="tg-oe15"><img src="./image/waterhouse.jpg" alt="Image" width="80" height="80" alt="Waterhouse"></td>
			  </tr>
			  <tr>
			    <td class="tg-zv4m"><img src="./image/lotz.jpg" width="80" height="80" alt="Lotz"></td>
			  </tr>
			  <tr>
			    <td class="tg-zv4m"><img src="./image/ludwig.jfif" width="80" height="80" alt="Steinmann"></tr>
			      <tr>
			        <td class="tg-zv4m"><img src="./image/hennessy.jpg" width="80" height="80" alt="Hennessy"></td>
			      </tr>
				 <tr>
			        <td class="tg-zv4m"><img src="./image/zeri.jpg" width="80" height="80" alt="Hennessy"></td>
			      </tr>
				 <tr>
			        <td class="tg-zv4m"><img src="./image/ver.jpg" width="80" height="80" alt="Hennessy"></td>
			      </tr>
			</tbody>
			</table>
				</div>
    </div>
    <div class="col-sm-8 text-left">
	<div class="first-text" style="margin: auto ; width: 91%;position: absolute; padding-top:20px;padding-left:30px;">
		    <h1>First Question:</h1>
		    <h2>How does the study of Renaissance evolve during time? Are there specific moments or some evolutions during history in which the study of Renaissance either spread or stopped for some reasons?</h2>
		    <p>The bar chart illustrates the average number of Art-Historians who have studied Renaissance between the years 1880 and 2020 at 20-year intervals. It can be seen that the average number of art-historians, in the beginning, is relatively low, starting at 2 in 1880.However, with the passage of time the average number of enthusiastic art-historians has increased and as you can see in the chart It reached a peak in the 1950s and this number grew somewhat steadily until the 1980s.As it's shown in the graph the average number of art-historians started to decrease in the 1990s and the following decades; 2000s and 2020s.Overall, we can see a clear downward trend in the number of art-historians and we can come to this conclusion that the study of Renaissance is not popular anymore</p>

		  </div>
		  <div id="chartContainer" style="height:0; width:75%; margin:450px auto;"></div>
    </div>
	  	
    <div class="col-sm-2 sidenav">
			<div class="right">
		    <style type="text/css">
		  .tg  {border-collapse:collapse;border-spacing:0;}
		  .tg td{border-color:#8e7f7f;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
		    overflow:hidden;padding:10px 5px;word-break:normal;}
		  .tg th{border-color:#8e7f7f;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
		    font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
		  .tg .tg-oe15{background-color:#8e7f7f;border-color:#8e7f7f;text-align:left;vertical-align:top}
		  .tg .tg-zv4m{border-color:#8e7f7f;text-align:left;vertical-align:top}
		  </style>
		  <table class="tg" table align="center">
		  <thead>
		    <tr>
		      <th class="tg-oe15"><img src="./image/ludwig.jfif" alt="Image" width="80" height="80" alt="Steinmann"></th>
		    </tr>
		  </thead>
		  <tbody>
		    <th class="tg-oe15"><img src="./image/steinberg.jpg" alt="Image" width="80" height="80" alt="Steinberg"></th>

		    <tr>
		      <td class="tg-oe15"><img src="./image/fahy.jpg" alt="Image" width="80" height="80" alt="Fahy"></td>
		    </tr>
		    <tr>
		      <td class="tg-oe15"><img src="./image/hertz.jpg" alt="Image" width="80" height="80" alt="Hertz"></td>
		    </tr>
		    <tr>
		      <td class="tg-zv4m"><img src="./image/lotz.jpg" width="80" height="80" alt="Lotz"></td>
		    </tr>
		    <tr>
		      <td class="tg-zv4m"><img src="./image/warburg.jpg" width="80" height="80" alt="Warburg"></td>
		    </tr>
		    <tr>
		      <td class="tg-zv4m"><img src="./image/cohn.jfif" width="80" height="80" alt="Cohn"></tr>
			   <tr>
			        <td class="tg-zv4m"><img src="./image/middle.jfif" width="80" height="80" alt="Hennessy"></td>
				    <tr>
			        <td class="tg-zv4m"><img src="./image/badt.jfif" width="80" height="80" alt="Hennessy"></td>
			      </tr>
			      </tr>
		  </tbody>
		  </table>
		  	
		<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
      </div>
    </div>
  </div>
</div>

// line chart
<script>
const final_chart = document.getElementById('myChart').getContext('2d');

// Load the dataset
d3.csv("linechart_per_year.csv", function (allObjects) {

    var ObjectsTypes = allObjects.map(function (d) {
      return d.year; //forse problemi di formato perchÃ¨ ci vorrebbe una lista/array
    });
    var objectsNum = allObjects.map(function (d) {
      return d.count_coll;
    });

  var pointBackgroundColor = [],
  pointBorderColor = [],
  pointHoverBackgroundColor = '#8e7f7f',
  pointHoverBorderColor = '#8e7f7f';

objectsNum.forEach(
  (value, index) => {
    if (value == objectsNum[index - 1]) {
      pointBackgroundColor.push('transparent');
      pointBorderColor.push('transparent');
    } else {
      pointBackgroundColor.push('#8e7f7f');
      pointBorderColor.push('#8e7f7f');
    }
  });

    new Chart(final_chart, {
      type: "line",
      data: {
        labels: ObjectsTypes,
        datasets: [{
		  label: "Art historians",
		  data: objectsNum,
		  fill: false,
		  borderColor: "#8e7f7f",
		  pointRadius: 2.3,
		  pointHoverRadius: 6,
          borderWidth: 2,


          pointBackgroundColor: pointBackgroundColor,
	      pointBorderColor: pointBorderColor,
	      pointHoverBackgroundColor: pointHoverBackgroundColor,
	      pointHoverBorderColor: pointHoverBorderColor


		}],

      },
      options: {
	      legend: { display: false },
	      title: {
	        display: true,
	        text: 'Development of Renaissance over time'
	      },

	      scales: {

	      		xAxes: [{
	                type: 'time',
				    ticks: {
				    	fontColor: "black",
				    	fontSize: 14,
				        autoSkip: true,
				        maxTicksLimit: 20,
				        maxRotation: 0,
                    	minRotation: 0
				    },
				    gridLines: {
					  color: "#bdbdbd",
					  zeroLineColor: 'black'
					}
	            }],

		        yAxes: [{
		            ticks: {
		            	fontColor: "black",
		            	fontSize: 14,
		                max : 12,    
                        min : 0
		            },
		            gridLines: {
					  color: "#bdbdbd",
					  zeroLineColor: 'black'
					}
		        }]
		    },


	  }
    });
  }
);


</script>
</div>
	<div class="second-text" style="margin: auto ; width: 50%;position: absolute; padding-top:0px;padding-left:0px;">
		<h2> line chart></h2>
		  <p> here goes explanation</p>
	  <div id='setDim'>
<canvas id="myChart"></canvas>
</div>

</body>
</html>
